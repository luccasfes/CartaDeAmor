<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="./assets/img/logo-site.png">
  <title>Cartas para meu amor</title>
  <link rel="stylesheet" href="./assets/css/app.css" />
  <script src="./assets/js/app.js" defer></script>
</head>

<body>
  <audio id="bg-music">
    <source src="assets/music/musica-raponzel.mp3" type="audio/ogg">
    <source src="horse.mp3" type="audio/mpeg">
  </audio>
  
  <script>
    window.addEventListener('beforeunload', function() {
      localStorage.setItem('musicPaused', 'true'); // Armazena o estado da mÃºsica
    });
  </script>
  
  <div class="background-1"></div>
  <div class="background-2"></div>
  <div class="background-3">
    <div class="cta">
      <button class="btn" id="yes">
        <span class="btn-text-one">Siim</span>
        <span class="btn-text-two">ðŸ¥³ðŸ¥°</span>
      </button>
      <button class="btn no" id="no">
        <span class="btn-text-one">NÃ£o</span>
        <span class="btn-text-two">ðŸ˜‘</span>
      </button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    window.addEventListener('load', function () {
      const audio = document.getElementById('bg-music');
      const yesButton = document.getElementById('yes');
      const noButton = document.getElementById('no');
      const background2 = document.querySelector('.background-2');
      
      let alertShown = false; // VariÃ¡vel para verificar se o alerta jÃ¡ foi exibido

      // Exibe um prompt para o nome do usuÃ¡rio
      const username = prompt("Digite seu nome:");

      if (username === null || username.trim() === "" || username.trim() !== "Sarah") {
        // UsuÃ¡rio nÃ£o forneceu o nome correto, redireciona para a pÃ¡gina especificada
        window.location.href = 'https://www.dicio.com.br/enxerido/';
      } else {
        // UsuÃ¡rio forneceu o nome correto
        // Exibe uma caixa de confirmaÃ§Ã£o com SweetAlert2
        Swal.fire({
          title: 'Antes de comeÃ§ar',
          text: 'VocÃª Ã© linda demais. Te amo!',
          icon: 'info',
          confirmButtonText: 'OK'
        }).then(() => {
          audio.play().catch(error => {
            console.log("Autoplay bloqueado pelo navegador. O usuÃ¡rio precisa interagir.");
          });
          console.log("Nome fornecido e confirmaÃ§Ã£o recebida.");
        });
      }

      noButton.addEventListener('click', function () {
        Swal.fire({
          title: 'Ei!',
          text: 'NÃ£o Ã© pra apertar aqui nÃ£o oxe',
          icon: 'warning',
          confirmButtonText: 'OK'
        });
      });

      // Event listener para o hover sobre a div com a classe 'background-2'
      background2.addEventListener('mouseover', function () {
        if (!alertShown) { // Verifica se o alerta jÃ¡ foi exibido
          Swal.fire({
            title: 'Oi meu amor!',
            html: `Quero que saiba o quanto vocÃª Ã© especial para mim... ðŸ’–`,
            icon: 'success',
            showCloseButton: true,
            confirmButtonText: 'ðŸ¥°'
          });
          alertShown = true; // Marca que o alerta foi exibido
        }
      });

      // Verifica se a mÃºsica deve ser pausada
      if (localStorage.getItem('musicPaused') === 'true') {
        audio.pause(); // Pausa a mÃºsica
        localStorage.removeItem('musicPaused'); // Remove a chave apÃ³s usÃ¡-la
      }
    });
  </script>

</body>

</html>
